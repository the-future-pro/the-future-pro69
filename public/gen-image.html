<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8">
  <title>Generate Image</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="wrap">
    <h1>Generate Image</h1>

    <label for="prompt">Prompt</label>
    <input id="prompt" placeholder="o pisică pe acoperiș, stil cinematic">

    <label for="neg">Negative extra (opțional)</label>
    <input id="neg" placeholder="blurry, watermark, logo">

    <label for="quality">Calitate</label>
    <select id="quality">
      <option value="1024">1024 (BASIC)</option>
      <option value="2048">2048 (PLUS)</option>
      <option value="8k">8K (PRO)</option>
    </select>

    <div style="margin-top:12px">
      <button class="primary" onclick="go()">Generează</button>
    </div>

    <pre id="out"></pre>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);
    const show = (x) => { $('out').textContent = JSON.stringify(x, null, 2); };

    async function go(){
      const data = {
        prompt: $('prompt').value.trim(),
        negative: $('neg').value.trim(),
        quality: $('quality').value
      };
      // mock: ping la server + arăt parametrii trimiși
      const ping = await fetch('/api/ping', { credentials: 'include' }).then(r=>r.json()).catch(()=>({ok:false}));
      show({ ok:true, ping, request:data, note:"UI demo — integrezi apoi cu generatorul real" });
    }
  </script>
</body>
</html>
